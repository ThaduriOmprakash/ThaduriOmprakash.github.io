/* ===================== Projects data ===================== */

const projectsData = [
  {
    title: "Depot Daily Depot Data Capture & KPI Engine",
    emoji: "ðŸ“Š",
    description: [
      "Developed a comprehensive depot analytics system that digitalized daily performance submission, streamlined driver allocation, health status tracking, shift scheduling, and MU/SL reporting. The platform automated KPI computations, enabled scalable database-backed storage, and significantly reduced manual reporting, improving decision-making speed across multiple depots."
    ],
    tech: ["PYTHON","STREAMLIT","HTML","CSS","SQL","JAVASCRIPT"],
     info: `
      <h2>Project Information</h2>

      <h3>ðŸ“Œ Overview</h3>
      <p>
        A digital transformation project designed to shift depot operations from manual paper-based reporting
        to a unified, automated, scalable, and error-free digital workflow.
      </p>

      <h3>âœ¨ Key Features</h3>
      <ul>
        <li>Digital daily depot data submission</li>
        <li>Driver allocation & health status tracking</li>
        <li>Shift scheduling insights (A/B/C)</li>
        <li>Automated KPI computation engine</li>
        <li>MU/SL reporting with root-cause insights</li>
        <li>Secure database-backed storage</li>
        <li>Daily, weekly & monthly performance analytics</li>
      </ul>

      <h3>ðŸ›  Tech Stack</h3>
      <p>Python, Streamlit, MySQL, HTML, CSS, JavaScript</p>

      <h3>ðŸŽ¯ Purpose</h3>
      <p>
        To eliminate manual reporting, accelerate data-driven decision-making, and build a
        fully digital operational ecosystem for depots.
      </p>
    `,
    demoVideo: "",
    caseStudy: `
<h2>Case Study: Depot Daily Depot Data Capture & KPI Engine</h2>

<h3>1. Project Overview</h3>
<p>Depot Daily Depot Data Capture & KPI Engine is a fully digital, data-driven analytics platform designed to modernize and streamline day-to-day depot operations. The primary goal of the project was to eliminate manual paperwork, centralize depot activity data, and enable faster, more informed decision-making through real-time performance insights.</p>

<h3>2. Problem Statement</h3>
<p>Before this system, depots relied heavily on manual, paper-based reporting:</p>
<ul>
  <li>Time-consuming data entry</li>
  <li>Inconsistent reporting formats</li>
  <li>Frequent data loss and errors</li>
  <li>Slow KPI calculations</li>
  <li>Lack of real-time visibility</li>
</ul>

<h3>3. Objective</h3>
<p>To create a centralized, scalable, and automated dashboard that collects depot data efficiently and provides real-time insights.</p>

<h3>4. Solution Delivered</h3>

<h4>4.1 Digital Data Collection</h4>
<p>A complete digital interface for daily submission of:</p>
<ul>
  <li>Driver allocation</li>
  <li>Health status</li>
  <li>Shift scheduling (A/B/C)</li>
  <li>MU/SL reporting</li>
  <li>Operational metrics</li>
</ul>

<img src="assets/images/case_study1.png" class="case-img">

<h4>4.2 Automated KPI Engine</h4>
<p>Rule-based automation ensures accurate, consistent KPI generation in real-time.</p>
<img src="assets/images/case_study2.png" class="case-img">

<h4>4.3 Database-Driven Architecture</h4>
<p>Secure, scalable MySQL storage with long-term retention and high accuracy.</p>

<h4>4.4 Interactive Analytics Dashboard</h4>
<p>Visual insights including:</p>
<ul>
  <li>Daily/weekly/monthly/yearly performance</li>
  <li>Driver operations</li>
  <li>Health trends</li>
  <li>Shift dependencies</li>
  <li>MU/SL analysis</li>
</ul>
<img src="assets/images/case_study3.png" class="case-img">
<h3>5. Impact & Results</h3>
<ul>
  <li>90% reduction in manual reporting</li>
  <li>Faster decision-making</li>
  <li>Improved accuracy</li>
  <li>Real-time KPI visibility</li>
  <li>High scalability</li>
</ul>

<h3>6. Technology Stack</h3>
<p><strong>Frontend:</strong> Streamlit <br>
<strong>Backend:</strong> Python <br>
<strong>Database:</strong> MySQL <br>
<strong>Automation:</strong> KPI engine</p>

<h3>7. Conclusion</h3>
<p>Depot Daily Depot Data Capture & KPI Engine successfully modernized depot operations by replacing manual workflows with an intelligent, centralized digital system.</p>
`

  },
  {
    title: "Driver Performance Insights",
    emoji: "ðŸ“Š",
    description: [
      "The Driver Performance Insights module analyzes key metrics like kilometers, EPK, working hours, absentee rate, earnings, and schedule types to generate unbiased driver rankings. It automatically identifies top and bottom performers, provides month-wise trends, and reduces manual evaluation time by nearly 70%, enabling faster, more transparent decision-making for depot managers."
    ],
    tech: ["PYTHON","STREAMLIT","HTML","SQL","PANDAS","MATPLOTLIB"],
      info: `
    <h2>Project Information â€“ Driver Performance Insights</h2>

    <h3>ðŸ“Œ Overview</h3>
    <p>
      A fully automated driver evaluation system that analyzes performance metrics, ranks drivers,
      highlights top and bottom performers, and enables monthly insight tracking for depot managers.
    </p>

    <h3>âœ¨ Key Features</h3>
    <ul>
      <li>Driver-level KPI analytics</li>
      <li>Automated ranking engine</li>
      <li>Top 5 & bottom 5 performer identification</li>
      <li>Month-wise trend analysis</li>
      <li>Unbiased, rule-based performance evaluation</li>
      <li>Workforce insights for decision-making</li>
    </ul>

    <h3>ðŸ›  Tech Stack</h3>
    <p>Python, Streamlit, Pandas, MySQL, HTML, Matplotlib</p>

    <h3>ðŸŽ¯ Purpose</h3>
    <p>
      To create a standardized, unbiased, and scalable driver evaluation framework that replaces
      manual spreadsheets with real-time automated insights.
    </p>
  `,
    demoVideo: "",
     caseStudy: `
    <h2>Case Study: Driver Performance Insights â€“ Data-Driven Driver Evaluation System</h2>

    <h3>1. Overview</h3>
    <p>
      The Driver Performance Insights module was built to bring transparency, accuracy, and automation 
      to the evaluation of drivers across depots. It uses real-time operational data and rule-based 
      KPIs to analyze and rank each driver's performance.
    </p>

    <h3>2. Problem Statement</h3>
    <p>Depot managers previously relied on manual Excel sheets and fragmented data sources. This caused:</p>
    <ul>
      <li>High chances of error and human bias</li>
      <li>Time-consuming manual calculations</li>
      <li>Delayed identification of high/low performers</li>
      <li>No month-wise or comparative insights</li>
      <li>Inconsistent evaluation methods across depots</li>
    </ul>

    <h3>3. Objectives</h3>
    <ul>
      <li>Create an automated driver evaluation system</li>
      <li>Provide unbiased KPI-driven rankings</li>
      <li>Enable month-wise performance monitoring</li>
      <li>Simplify comparison between high & low performers</li>
      <li>Reduce manual analysis workload for managers</li>
    </ul>

    <h3>4. Solution Delivered</h3>

    <h4>4.1 Driver-Level KPI Analysis</h4>
    <p>The system evaluates multiple metrics including:</p>
    <ul>
      <li>Total kilometers covered</li>
      <li>Earning per Kilometer (EPK)</li>
      <li>Working hours</li>
      <li>Absentee rate</li>
      <li>Total earnings</li>
      <li>Shift categories handled (day/night)</li>
      <li>Kilometers, working hours, attendance & earning ranks</li>
    </ul>
    <img src="assets/images/case_study4.png" class="case-img">
    <h4>4.2 Top & Bottom Performer Identification</h4>
    <p>Using a ranking algorithm, the system automatically identifies:</p>
    <ul>
      <li>Top 5 performers</li>
      <li>Bottom 5 performers</li>
    </ul>

    <h4>4.3 Month-wise Performance Insights</h4>
    <p>
      A monthly analytics view enables managers to track trends, detect seasonal changes, 
      and identify performance dips early.
    </p>

    <h4>4.4 Automation & Workflow Optimization</h4>
    <ul>
      <li>Reduced manual analysis time by ~70%</li>
      <li>Eliminated human errors</li>
      <li>Standardized evaluation across depots</li>
      <li>Ensured timely insights during review cycles</li>
    </ul>

    <h3>5. Impact</h3>
    <ul>
      <li>Enhanced transparency in driver evaluation</li>
      <li>Accelerated decision-making cycles</li>
      <li>Centralized source of truth for all driver metrics</li>
      <li>Improved fairness & accountability</li>
      <li>Better workforce planning & schedule allocation</li>
    </ul>

    <h3>6. Conclusion</h3>
    <p>
      The Driver Performance Insights module transformed driver evaluation into a structured,
      automated, and insightful process. It empowers depot managers to make faster, more 
      data-driven decisions while drastically reducing manual effort.
    </p>
  `,

  },
    {
    title: "Depot Daily Depot Data Capture & KPI Engine",
    emoji: "ðŸ“Š",
    description: [
      "Developed a comprehensive depot analytics system that digitalized daily performance submission, streamlined driver allocation, health status tracking, shift scheduling, and MU/SL reporting. The platform automated KPI computations, enabled scalable database-backed storage, and significantly reduced manual reporting, improving decision-making speed across multiple depots."
    ],
    tech: ["PYTHON","STREAMLIT","HTML","CSS","SQL","JAVASCRIPT"],
    infoLink: "",
    demoVideo: "",
    caseStudyLink: ""
  },
    {
    title: "Depot Daily Depot Data Capture & KPI Engine",
    emoji: "ðŸ“Š",
    description: [
      "Developed a comprehensive depot analytics system that digitalized daily performance submission, streamlined driver allocation, health status tracking, shift scheduling, and MU/SL reporting. The platform automated KPI computations, enabled scalable database-backed storage, and significantly reduced manual reporting, improving decision-making speed across multiple depots."
    ],
    tech: ["PYTHON","STREAMLIT","HTML","CSS","SQL","JAVASCRIPT"],
    infoLink: "",
    demoVideo: ""
  },
];
  

/* ===================== Render cards ===================== */
const grid = document.getElementById("projectsGrid");

function createCard(p){
  const card = document.createElement("div");
  card.className = "project-card fade-up";

  /* ============== CLEAN BODY ONLY (NO IMAGE AREA) ============== */
  const body = document.createElement("div");
  body.className = "project-body";

  /* Title (cyan) â€” only once */
  const heading = document.createElement("div");
  heading.className = "project-title";
  heading.textContent = p.title;
  body.appendChild(heading);

  /* Description */
  const desc = document.createElement("div");
  desc.className = "project-desc";
  desc.innerHTML = p.description.map(s => `<p>${s}</p>`).join("");
  body.appendChild(desc);

  /* Tech tags */
  const techRow = document.createElement("div");
  techRow.className = "tech-row";
  p.tech.forEach(t=>{
    const tag = document.createElement("div");
    tag.className = "tech-tag";
    tag.textContent = t;
    techRow.appendChild(tag);
  });
  body.appendChild(techRow);

  /* Buttons */
  const actions = document.createElement("div");
  actions.className = "project-actions";

  // Info
  const infoBtn = document.createElement("button");
  infoBtn.className = "btn info";
  infoBtn.innerHTML = "â„¹ï¸ Info";
  infoBtn.addEventListener("click", ()=> openInfo(p));
  actions.appendChild(infoBtn);
  // Case Study button
  const caseBtn = document.createElement("button");
  caseBtn.className = "btn case";
  caseBtn.innerHTML = "ðŸ“˜ Case Study";
  caseBtn.addEventListener("click", ()=> openCaseStudy(p));
  actions.appendChild(caseBtn);

  // Demo
  const demoBtn = document.createElement("button");
  demoBtn.className = "btn demo";
  demoBtn.innerHTML = "ðŸŽ¬ Demo";
  if(!p.demoVideo){
    demoBtn.classList.add("disabled");
    demoBtn.addEventListener("click", ()=> openDemoComingSoon());
  } else {
    demoBtn.addEventListener("click", ()=> openDemoVideo(p.demoVideo));
  }
  actions.appendChild(demoBtn);

  body.appendChild(actions);
  card.appendChild(body);

  return card;
}

/* Add cards to grid */
projectsData.forEach(p => grid.appendChild(createCard(p)));


/* ===================== Modal handling ===================== */

const overlay = document.getElementById("modalOverlay");
const bodyNode = document.getElementById("modalBody");
const closeBtn = document.getElementById("modalClose");
const closeBtn2 = document.getElementById("modalCloseBtn");

function openInfo(project) {
  overlay.classList.add("open");
  overlay.setAttribute("aria-hidden", "false");

  bodyNode.innerHTML = `
      <div class="modal-long-content">
        ${project.info}
      </div>
  `;
}

function openCaseStudy(project){
  overlay.classList.add("open");
  overlay.setAttribute("aria-hidden","false");

  bodyNode.innerHTML = `
    <div class="modal-info case-study">
       ${project.caseStudy}
    </div>
  `;
}

function openDemoComingSoon(){
  overlay.classList.add("open");
  bodyNode.innerHTML = `
    <div class="modal-info">
      <h3 style="color:#eaffff">Demo coming soon</h3>
      <p>Video demo not yet uploaded.</p>
    </div>
  `;
}

function openDemoVideo(src){
  overlay.classList.add("open");
  bodyNode.innerHTML = "";
  const video = document.createElement("video");
  video.controls = true;
  video.src = src;
  bodyNode.appendChild(video);
  video.play().catch(()=>{});
}

function closeModal(){
  overlay.classList.remove("open");
  bodyNode.innerHTML = "";
}

closeBtn.addEventListener("click", closeModal);
closeBtn2.addEventListener("click", closeModal);
overlay.addEventListener("click", e => { if(e.target === overlay) closeModal(); });

/* Fade animation */
document.querySelectorAll(".project-card").forEach((el,i)=>{
  el.style.opacity = 0;
  el.style.transform = "translateY(14px)";
  setTimeout(()=>{
    el.style.transition = "opacity .6s ease, transform .6s ease";
    el.style.opacity = 1;
    el.style.transform = "translateY(0)";
  }, 100 + i*90);
});
/* ===================== Scroll Reveal Animation ===================== */

const observer = new IntersectionObserver((entries) => {
  entries.forEach(entry => {
    if (entry.isIntersecting) {
      entry.target.classList.add("fade-show");
      observer.unobserve(entry.target);  // run animation only once
    }
  });
}, { threshold: 0.2 });

document.querySelectorAll(".project-card").forEach(card => {
  card.classList.add("fade-up");  // default animation
  observer.observe(card);
});
